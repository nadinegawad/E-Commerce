"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[987],{2987:(v,d,i)=>{i.r(d),i.d(d,{CartModule:()=>g});var s=i(6814),u=i(1120),t=i(4769),l=i(8623);function m(r,p){if(1&r){const o=t.EpF();t.TgZ(0,"div",9)(1,"div",10),t._UZ(2,"img",11),t.qZA(),t.TgZ(3,"div",12)(4,"h4"),t._uU(5),t.qZA(),t.TgZ(6,"p",13),t._uU(7),t.qZA(),t.TgZ(8,"div",14)(9,"p",15),t._uU(10),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"button",16),t.NdJ("click",function(){const c=t.CHM(o).$implicit,a=t.oxw(2);return t.KtG(a.remove(c.product.id))}),t._UZ(13,"i",17),t._uU(14,"Remove"),t.qZA()()(),t.TgZ(15,"div",10)(16,"button",18),t.NdJ("click",function(){const c=t.CHM(o).$implicit,a=t.oxw(2);return t.KtG(a.UpdateCount(c.count+1,c.product.id))}),t._uU(17,"+"),t.qZA(),t.TgZ(18,"span",19),t._uU(19),t.qZA(),t.TgZ(20,"button",18),t.NdJ("click",function(){const c=t.CHM(o).$implicit,a=t.oxw(2);return t.KtG(a.UpdateCount(c.count-1,c.product.id))}),t._uU(21,"-"),t.qZA()()()}if(2&r){const o=p.$implicit;t.xp6(2),t.Q6J("src",o.product.imageCover,t.LSH),t.xp6(3),t.Oqu(o.product.title),t.xp6(2),t.Oqu(o.product.category.name),t.xp6(3),t.Oqu(t.xi3(11,5,o.price,"EGP")),t.xp6(9),t.Oqu(o.count)}}function _(r,p){if(1&r&&(t.TgZ(0,"div",2)(1,"h2",3),t._uU(2,"Shop Cart"),t.qZA(),t.TgZ(3,"h5",4),t._uU(4,"Total price : "),t.TgZ(5,"span"),t._uU(6),t.ALo(7,"currency"),t.qZA()(),t.YNc(8,m,22,8,"div",5),t.TgZ(9,"a",6)(10,"button",7),t._uU(11,"Online Payment "),t._UZ(12,"i",8),t.qZA()()()),2&r){const o=t.oxw();t.xp6(6),t.Oqu(t.xi3(7,2,o.cartInfo.data.totalCartPrice,"EGP")),t.xp6(2),t.Q6J("ngForOf",o.cartInfo.data.products)}}const C=[{path:"",component:(()=>{class r{constructor(o){this._cartService=o,this.cartInfo={}}ngOnInit(){this.getCart()}getCart(){this._cartService.getCart().subscribe({next:o=>{this.cartInfo=o},error:o=>{console.log(o)}})}UpdateCount(o,n){this._cartService.updateCountProduct(o,n).subscribe({next:e=>{this.cartInfo=e},error:e=>{console.log(e)}})}remove(o){this._cartService.removeProduct(o).subscribe({next:n=>{this.cartInfo=n,this._cartService.numOfCartItems.next(n.numOfCartItems)},error:n=>{console.log(n)}})}static#t=this.\u0275fac=function(n){return new(n||r)(t.Y36(l.N))};static#o=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-cart"]],decls:2,vars:1,consts:[[1,"container","py-5"],["class","bg-main-light  p-4",4,"ngIf"],[1,"bg-main-light","p-4"],[1,"mb-2"],[1,"text-main","mb-4"],["class","row border-bottom  py-1",4,"ngFor","ngForOf"],["routerLink","/checkout"],[1,"btn","main-btn","my-3","px-3"],[1,"fa-brands","fa-lg","fa-cc-visa"],[1,"row","border-bottom","py-1"],[1,"col-md-1"],["alt","",1,"w-100",3,"src"],[1,"col-md-10"],[1,"text-main"],[1,"d-flex","align-items-center"],[1,"m-0","text-main","me-4"],[1,"btn","text-danger","p-0",3,"click"],[1,"fa-regular","fa-trash-can","me-1"],[1,"btn","update-btn","p-1",3,"click"],[1,"mx-2"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.YNc(1,_,13,5,"div",1),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",null==e.cartInfo?null:e.cartInfo.data))},dependencies:[s.sg,s.O5,u.rH,s.H9],styles:[".update-btn[_ngcontent-%COMP%]{border:1px solid #08e208;color:#08e208}.update-btn[_ngcontent-%COMP%]:hover{border:none;color:#fff;background-color:#08e208}"]})}return r})()}];let f=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#o=this.\u0275mod=t.oAB({type:r});static#r=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(C),u.Bz]})}return r})(),g=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#o=this.\u0275mod=t.oAB({type:r});static#r=this.\u0275inj=t.cJS({imports:[s.ez,f]})}return r})()}}]);