"use strict";(self.webpackChunkecommerce=self.webpackChunkecommerce||[]).push([[257],{2257:(C,a,c)=>{c.r(a),c.d(a,{WishlistModule:()=>_});var o=c(6814),h=c(1120),t=c(4769),m=c(4941),u=c(8623),p=c(2425);function g(s,d){if(1&s){const i=t.EpF();t.TgZ(0,"div",5)(1,"div",6),t._UZ(2,"img",7),t.qZA(),t.TgZ(3,"div",8)(4,"h4",9),t._uU(5),t.qZA(),t.TgZ(6,"p",10),t._uU(7),t.qZA(),t.TgZ(8,"div",11)(9,"p",12),t._uU(10),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"button",13),t.NdJ("click",function(){const r=t.CHM(i).$implicit,l=t.oxw(2);return t.KtG(l.remove(r.id))}),t._UZ(13,"i",14),t._uU(14,"Remove"),t.qZA()()(),t.TgZ(15,"div",15)(16,"button",16),t.NdJ("click",function(){const r=t.CHM(i).$implicit,l=t.oxw(2);return t.KtG(l.addToCart(r.id))}),t._uU(17,"Add To Cart"),t.qZA()()()}if(2&s){const i=d.$implicit;t.xp6(2),t.Q6J("src",i.imageCover,t.LSH),t.xp6(3),t.Oqu(i.title),t.xp6(2),t.Oqu(i.category.name),t.xp6(3),t.Oqu(t.xi3(11,4,i.price,"EGP"))}}function v(s,d){if(1&s&&(t.TgZ(0,"div",2)(1,"h2",3),t._uU(2,"Whishlist"),t.qZA(),t.YNc(3,g,18,7,"div",4),t.qZA()),2&s){const i=t.oxw();t.xp6(3),t.Q6J("ngForOf",i.allWishlist)}}const f=[{path:"",component:(()=>{class s{constructor(i,e,n){this._wishlistService=i,this._cartService=e,this._toastrService=n,this.allWishlist=[]}ngOnInit(){this.getWishlist()}getWishlist(){this._wishlistService.getLOggedWishlist().subscribe({next:i=>{console.log(i),this.allWishlist=i.data,console.log(this.allWishlist),this._wishlistService.numOfWish.next(i.data.length)}})}addToCart(i){this._cartService.addProductToCart(i).subscribe({next:e=>{this._cartService.numOfCartItems.next(e.numOfCartItems),this._toastrService.success(e.message)}})}remove(i){this._wishlistService.removeItem(i).subscribe({next:e=>{this.getWishlist(),this._wishlistService.numOfWish.next(e.data.length)}})}static#t=this.\u0275fac=function(e){return new(e||s)(t.Y36(m.M),t.Y36(u.N),t.Y36(p._W))};static#i=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-wishlist"]],decls:2,vars:1,consts:[[1,"container","py-5"],["class","bg-main-light  p-4",4,"ngIf"],[1,"bg-main-light","p-4"],[1,"mb-5"],["class","row  py-1 wishProduct",4,"ngFor","ngForOf"],[1,"row","py-1","wishProduct"],[1,"col-md-1"],["alt","",1,"w-100",3,"src"],[1,"col-md-8"],[1,"pt-2"],[1,"text-main"],[1,"d-flex","align-items-center"],[1,"m-0","text-main","me-4"],[1,"btn","text-danger","p-0",3,"click"],[1,"fa-regular","fa-trash-can","me-1"],[1,"col-md-3","text-center","align-self-center"],[1,"btn","main-btn","w-100",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,v,4,1,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.allWishlist.length>0))},dependencies:[o.sg,o.O5,o.H9]})}return s})()}];let x=(()=>{class s{static#t=this.\u0275fac=function(e){return new(e||s)};static#i=this.\u0275mod=t.oAB({type:s});static#s=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(f),h.Bz]})}return s})(),_=(()=>{class s{static#t=this.\u0275fac=function(e){return new(e||s)};static#i=this.\u0275mod=t.oAB({type:s});static#s=this.\u0275inj=t.cJS({imports:[o.ez,x]})}return s})()}}]);